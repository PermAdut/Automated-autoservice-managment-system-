# –î–µ—Ç–∞–ª—å–Ω—ã–µ –±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è ‚Äî AutoService Platform

> **–í–µ—Ä—Å–∏—è**: 2.0  
> **–î–∞—Ç–∞**: 2026-02-22  
> **–°—Ç–∞—Ç—É—Å**: –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

---

## 1. –û–±–∑–æ—Ä –ø—Ä–æ–¥—É–∫—Ç–∞

**AutoService Platform** ‚Äî –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å–∞. –ü–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ **–≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ (embedded) —Ä–µ—à–µ–Ω–∏–µ**: –ª—é–±–æ–π –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä, –±—Ä–µ–Ω–¥–∏—Ä—É–µ—Ç –ø–æ–¥ —Å–µ–±—è (–ª–æ–≥–æ—Ç–∏–ø, —Ü–≤–µ—Ç–∞, –Ω–∞–∑–≤–∞–Ω–∏–µ) –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–∞–∫ —Å–≤–æ–π –ø—Ä–æ–¥—É–∫—Ç.

### –†–µ–∂–∏–º—ã —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è

| –†–µ–∂–∏–º | –û–ø–∏—Å–∞–Ω–∏–µ | –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è |
|-------|----------|-------------------|
| **Embedded (Single-tenant)** | –û–¥–∏–Ω –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å ‚Äî –æ–¥–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞. –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –¥–∞–Ω–Ω—ã–º–∏ –∏ –±—Ä–µ–Ω–¥–∏–Ω–≥–æ–º. | –ú–∞–ª—ã–π –∏ —Å—Ä–µ–¥–Ω–∏–π –±–∏–∑–Ω–µ—Å |
| **Multi-branch** | –°–µ—Ç—å —Ñ–∏–ª–∏–∞–ª–æ–≤ –æ–¥–Ω–æ–≥–æ –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å–∞ –≤ –æ–¥–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ. | –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ |
| **White-label SaaS** | (–ë—É–¥—É—â–∞—è –≤–µ—Ä—Å–∏—è) –ù–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –≤ –æ–¥–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ. | Franchisor-–º–æ–¥–µ–ª—å |

---

## 2. –°—Ç–µ–π–∫—Ö–æ–ª–¥–µ—Ä—ã

```mermaid
graph TD
    A[–í–ª–∞–¥–µ–ª–µ—Ü –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å–∞] -->|–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É| B[–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞]
    C[–ú–µ–Ω–µ–¥–∂–µ—Ä] -->|–£–ø—Ä–∞–≤–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏| B
    D[–ú–∞—Å—Ç–µ—Ä/–ú–µ—Ö–∞–Ω–∏–∫] -->|–í–µ–¥—ë—Ç –∑–∞–∫–∞–∑—ã| B
    E[–ö–ª–∏–µ–Ω—Ç] -->|–û–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å—å, –∏—Å—Ç–æ—Ä–∏—è| B
    F[–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –∫–ª–∏–µ–Ω—Ç] -->|–î–æ–≥–æ–≤–æ—Ä, –∞–≤—Ç–æ–ø–∞—Ä–∫| B
    G[–ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏–π –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å] -->|–û–±–º–µ–Ω –∑–∞–ø—á–∞—Å—Ç—è–º–∏, –∫–ª–∏–µ–Ω—Ç–∞–º–∏| B
    H[–ü–æ—Å—Ç–∞–≤—â–∏–∫] -->|–ó–∞–∫—É–ø–∫–∏ –∑–∞–ø—á–∞—Å—Ç–µ–π| B
```

### –ú–∞—Ç—Ä–∏—Ü–∞ —Ä–æ–ª–µ–π –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

| –î–µ–π—Å—Ç–≤–∏–µ | –í–ª–∞–¥–µ–ª–µ—Ü/admin | –ú–µ–Ω–µ–¥–∂–µ—Ä | –ú–µ—Ö–∞–Ω–∏–∫ | –ö–ª–∏–µ–Ω—Ç |
|----------|:-:|:-:|:-:|:-:|
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã | ‚úÖ | ‚Äî | ‚Äî | ‚Äî |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏ | ‚úÖ | ‚úÖ | ‚Äî | ‚Äî |
| –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤ | ‚úÖ | ‚úÖ | —Å–≤–æ–∏ | —Å–≤–æ–∏ |
| –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| –°–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞ | ‚úÖ | ‚úÖ | in_progress‚Üícompleted | ‚Äî |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥–æ–º | ‚úÖ | ‚úÖ | ‚Äî | ‚Äî |
| –û–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å—å | ‚úÖ | ‚úÖ | ‚Äî | ‚úÖ |
| –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ | ‚úÖ | ‚úÖ | ‚Äî | ‚Äî |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–∏–¥–∫–∞–º–∏ | ‚úÖ | ‚Äî | ‚Äî | ‚Äî |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º–∏ | ‚úÖ | ‚Äî | ‚Äî | ‚Äî |

---

## 3. –ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã

### 3.1 –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π —Ü–∏–∫–ª

```mermaid
sequenceDiagram
    participant C as –ö–ª–∏–µ–Ω—Ç
    participant M as –ú–µ–Ω–µ–¥–∂–µ—Ä
    participant W as –ú–µ—Ö–∞–Ω–∏–∫
    participant S as –°–∏—Å—Ç–µ–º–∞

    C->>S: –û–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å—å (–¥–∞—Ç–∞, —É—Å–ª—É–≥–∞, –∞–≤—Ç–æ)
    S->>C: SMS/Email –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ + –∫–æ–¥
    M->>S: –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–ø–∏—Å—å ‚Üí —Å–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑
    S->>W: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º –∑–∞–∫–∞–∑–µ
    W->>S: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (DTC —Å–∫–∞–Ω–µ—Ä / OBD-II)
    S->>M: –û—Ç—á—ë—Ç –ø–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ
    M->>C: SMS –æ–± –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö
    M->>S: –ü–æ–¥–æ–±—Ä–∞—Ç—å –∑–∞–ø—á–∞—Å—Ç–∏ —Å–æ —Å–∫–ª–∞–¥–∞
    alt –ó–∞–ø—á–∞—Å—Ç–µ–π –Ω–µ—Ç
        S->>M: –ê–ª–µ—Ä—Ç –æ –Ω–∏–∑–∫–æ–º –æ—Å—Ç–∞—Ç–∫–µ
        M->>S: –ó–∞–∫–∞–∑–∞—Ç—å —É –ø–∞—Ä—Ç–Ω—ë—Ä–∞ / –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
    end
    W->>S: –ó–∞–∫–∞–∑: —Å—Ç–∞—Ç—É—Å "–≤ —Ä–∞–±–æ—Ç–µ"
    W->>S: –ó–∞–∫–∞–∑: —Å—Ç–∞—Ç—É—Å "–∑–∞–≤–µ—Ä—à—ë–Ω"
    S->>C: SMS/Email ‚Äî –∞–≤—Ç–æ –≥–æ—Ç–æ–≤–æ –∫ –≤—ã–¥–∞—á–µ
    M->>S: –ü—Ä–∏–Ω—è—Ç—å –æ–ø–ª–∞—Ç—É, –≤—ã–¥–∞—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏–π–Ω—ã–π —Ç–∞–ª–æ–Ω
    S->>C: –ù–∞—á–∏—Å–ª–∏—Ç—å –±–æ–Ω—É—Å–Ω—ã–µ –±–∞–ª–ª—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
    C->>S: –û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤ –æ –º–µ—Ö–∞–Ω–∏–∫–µ
```

### 3.2 –¶–∏–∫–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∞—Å–∞–º–∏

```mermaid
flowchart LR
    A[–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—Å—Ç–∞—Ç–∫–æ–≤] -->|–û—Å—Ç–∞—Ç–æ–∫ < –ø–æ—Ä–æ–≥–∞| B[–ê–ª–µ—Ä—Ç low-stock]
    B --> C{–ï—Å—Ç—å —É –ø–∞—Ä—Ç–Ω—ë—Ä–∞?}
    C -->|–î–∞| D[–ó–∞–ø—Ä–æ—Å –Ω–∞ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä —É –ø–∞—Ä—Ç–Ω—ë—Ä–∞]
    C -->|–ù–µ—Ç| E[–ó–∞–ø—Ä–æ—Å –ø–æ—Å—Ç–∞–≤—â–∏–∫—É]
    D --> F[–¢—Ä–∞–Ω—Å—Ñ–µ—Ä –º–µ–∂–¥—É —Å–∫–ª–∞–¥–∞–º–∏]
    E --> G[–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫—É–ø–∫–∏ ‚Üí –°—á—ë—Ç-—Ñ–∞–∫—Ç—É—Ä–∞]
    F --> H[–ü—Ä–∏—Ö–æ–¥ –Ω–∞ —Å–∫–ª–∞–¥]
    G --> H
    H --> I[–û—Å—Ç–∞—Ç–æ–∫ –æ–±–Ω–æ–≤–ª—ë–Ω]
```

### 3.3 –û–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å—å –∫–ª–∏–µ–Ω—Ç–∞

```mermaid
flowchart TD
    A[–ö–ª–∏–µ–Ω—Ç –≤—ã–±–∏—Ä–∞–µ—Ç —É—Å–ª—É–≥—É] --> B[–í—ã–±–æ—Ä –º–∞—Å—Ç–µ—Ä–∞]
    B --> C[–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤]
    C --> D[–í—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏]
    D --> E[–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ VIN + –∞–≤—Ç–æ]
    E --> F{VIN –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω?}
    F -->|–î–∞| G[–ê–≤—Ç–æ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ NHTSA API]
    F -->|–ù–µ—Ç| H[–í–≤–æ–¥ –≤—Ä—É—á–Ω—É—é]
    G --> I[–°–æ–∑–¥–∞–Ω–∏–µ appointment]
    H --> I
    I --> J[SMS/Email —Å –∫–æ–¥–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è]
    J --> K[–ú–µ–Ω–µ–¥–∂–µ—Ä –≤–∏–¥–∏—Ç –≤ –¥–∞—à–±–æ—Ä–¥–µ]
```

---

## 4. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 4.1 White-label / Embedded –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–ú–æ–¥—É–ª—å**: `TenantModule`  
**Endpoint**: `GET /tenant/branding` (–ø—É–±–ª–∏—á–Ω—ã–π, –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–µ–Ω–¥–∏–Ω–≥–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `companyName` | string | –ù–∞–∑–≤–∞–Ω–∏–µ –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å–∞ |
| `tagline` | string | –°–ª–æ–≥–∞–Ω |
| `logoUrl` | string | URL –ª–æ–≥–æ—Ç–∏–ø–∞ (PNG/SVG) |
| `faviconUrl` | string | –ò–∫–æ–Ω–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞ |
| `primaryColor` | hex | –û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ |
| `secondaryColor` | hex | –í—Ç–æ—Ä–∏—á–Ω—ã–π —Ü–≤–µ—Ç |
| `accentColor` | hex | –ê–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ü–≤–µ—Ç |
| `fontFamily` | string | –®—Ä–∏—Ñ—Ç UI |

#### –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `address` | string | –§–∏–∑–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å |
| `city` | string | –ì–æ—Ä–æ–¥ |
| `phone` | string | –¢–µ–ª–µ—Ñ–æ–Ω –≥–æ—Ä—è—á–µ–π –ª–∏–Ω–∏–∏ |
| `email` | string | Email –ø–æ–¥–¥–µ—Ä–∂–∫–∏ |
| `workingHours` | string | –ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Ö–µ–¥–µ—Ä–µ) |
| `mapCoordinates` | string | –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è –∫–∞—Ä—Ç—ã |

#### Feature flags

| –§–ª–∞–≥ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|:-:|----------|
| `featureOnlineBooking` | ‚úÖ | –û–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å—å –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ |
| `featureVinDecoder` | ‚úÖ | –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ VIN —á–µ—Ä–µ–∑ NHTSA |
| `featureLoyaltyProgram` | ‚úÖ | –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ |
| `featurePartnerNetwork` | ‚ùå | –ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∞—è —Å–µ—Ç—å (–Ω—É–∂–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ API) |
| `featureMultiBranch` | ‚ùå | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ñ–∏–ª–∏–∞–ª–∞–º–∏ |
| `featureCorporateClients` | ‚ùå | –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã |
| `featureSmsNotifications` | ‚ùå | SMS —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–Ω—É–∂–µ–Ω SMS.ru API ID) |
| `featureEmailNotifications` | ‚ùå | Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–Ω—É–∂–µ–Ω SMTP) |

**–ê–ª–≥–æ—Ä–∏—Ç–º –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (Setup Wizard)**:
1. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç `/setup` –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
2. –ó–∞–ø–æ–ª–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏ ‚Üí —à–∞–≥ 1
3. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –±—Ä–µ–Ω–¥–∏–Ω–≥ (—Ü–≤–µ—Ç–∞, –ª–æ–≥–æ—Ç–∏–ø) ‚Üí —à–∞–≥ 2
4. –í–∫–ª—é—á–∞–µ—Ç –Ω—É–∂–Ω—ã–µ features ‚Üí —à–∞–≥ 3
5. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (SMS, Email) ‚Üí —à–∞–≥ 4
6. `POST /tenant/settings/complete-setup` ‚Üí —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–π

---

### 4.2 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏

**–°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–∞**:
```
pending ‚Üí confirmed ‚Üí in_progress ‚Üí quality_check ‚Üí completed
                                                    ‚Üì
                                                 cancelled
                                                 no_show
```

**–ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞**:
- –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑ —Ç–æ–ª—å–∫–æ –≤ —Å—Ç–∞—Ç—É—Å–∞—Ö `pending` / `confirmed`
- –ü–µ—Ä–µ—Ö–æ–¥ `completed ‚Üí ...` ‚Äî –∑–∞–ø—Ä–µ—â—ë–Ω
- –ü—Ä–∏ —Å—Ç–∞—Ç—É—Å–µ `completed` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
  - –ù–∞—á–∏—Å–ª—è—é—Ç—Å—è –±–æ–Ω—É—Å–Ω—ã–µ –±–∞–ª–ª—ã (1 –±–∞–ª–ª = 1 —Ä—É–±–ª—å —Å—É–º–º—ã –∑–∞–∫–∞–∑–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  - –°–æ–∑–¥–∞—ë—Ç—Å—è –≥–∞—Ä–∞–Ω—Ç–∏–π–Ω—ã–π —Ç–∞–ª–æ–Ω (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ —É—Å–ª—É–≥–µ)
  - –û—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–ª–æ—Ç (–µ—Å–ª–∏ –±—ã–ª booking)
  - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è SMS/Email –∫–ª–∏–µ–Ω—Ç—É

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∑–∞–∫–∞–∑–∞**: `low` | `normal` | `high` | `urgent`

---

### 4.3 –û–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å—å (Booking)

**–ú–æ–¥—É–ª—å**: `BookingModule`

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–ª–æ—Ç–∞–º**:
- –°–ª–æ—Ç = 60 –º–∏–Ω—É—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- –†–∞–±–æ—á–∏–µ —á–∞—Å—ã: 9:00‚Äì18:00 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∏–∑ TenantSettings)
- –ú–∞—Å—Ç–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –¥–≤–∞ –ø–µ—Ä–µ—Å–µ–∫–∞—é—â–∏—Ö—Å—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–ª–æ—Ç–∞
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª–æ—Ç–æ–≤: `POST /booking/slots/generate` (admin/manager)

**–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ**:
- –ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è: 8 —Å–∏–º–≤–æ–ª–æ–≤ hex (uppercase)
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è SMS –∏ Email –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ appointment
- QR-–∫–æ–¥ (–±—É–¥—É—â–∞—è –≤–µ—Ä—Å–∏—è)

---

### 4.4 –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –∏—Å—Ç–æ—Ä–∏—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è

**–ú–æ–¥—É–ª—å**: `DiagnosticsModule`

**DTC –∫–∞—Ç–∞–ª–æ–≥** (3000+ –∫–æ–¥–æ–≤):
- –°—Ç–∞–Ω–¥–∞—Ä—Ç OBD-II: P0xxx, P1xxx, C0xxx, B0xxx, U0xxx
- –°–µ—Ä–≤–∏—Å—ã P0xxx –∏ P1xxx –Ω–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç—ã–µ –¥–ª—è –ª–µ–≥–∫–æ–≤—ã—Ö –∞–≤—Ç–æ
- –î–∞–Ω–Ω—ã–µ –¥–ª—è seed: [OBD2 codes –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](https://github.com/myaresdk/obd2codes)

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è —Å–µ—Å—Å–∏—è**:
- –ü—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –∞–≤—Ç–æ–º–æ–±–∏–ª—é (VIN) –∏ –∑–∞–∫–∞–∑—É
- –§–∏–∫—Å–∏—Ä—É–µ—Ç –ø—Ä–æ–±–µ–≥ –Ω–∞ –º–æ–º–µ–Ω—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- –•—Ä–∞–Ω–∏—Ç raw –¥–∞–Ω–Ω—ã–µ –æ—Ç —Å–∫–∞–Ω–µ—Ä–∞ (JSON)
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã: —Å–ø–∏—Å–æ–∫ DTC –∫–æ–¥–æ–≤ —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏ (active/history)

**–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –¢–û**:
- –°–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞ (–ø–æ —Ç–∏–ø—É —É—Å–ª—É–≥–∏)
- –†–∞—Å—Å—ã–ª–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞ 7 –¥–Ω–µ–π –¥–æ —Å—Ä–æ–∫–∞ (cron: –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:00)
- –¢–∏–ø—ã: –∑–∞–º–µ–Ω–∞ –º–∞—Å–ª–∞, —Ä–æ—Ç–∞—Ü–∏—è —à–∏–Ω, —Ç–æ—Ä–º–æ–∑–∞, –ø–ª–∞–Ω–æ–≤–æ–µ –¢–û, —Ä–µ–º–µ–Ω—å –ì–†–ú

---

### 4.5 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–ú–æ–¥—É–ª—å**: `NotificationModule`

**–ö–∞–Ω–∞–ª—ã**:

| –ö–∞–Ω–∞–ª | –ü—Ä–æ–≤–∞–π–¥–µ—Ä | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è |
|-------|-----------|-------------|
| SMS | SMS.ru | `SMS_RU_API_ID` –≤ `.env` |
| Email | SMTP (–ª—é–±–æ–π) | `SMTP_HOST/PORT/USER/PASS/FROM` –≤ `.env` |
| Push | (–±—É–¥—É—â–∞—è –≤–µ—Ä—Å–∏—è) | FCM / APNs |

**–¢—Ä–∏–≥–≥–µ—Ä–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**:

| –°–æ–±—ã—Ç–∏–µ | SMS | Email |
|---------|:---:|:-----:|
| –û–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ | ‚úÖ | ‚úÖ |
| –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –∏–∑–º–µ–Ω—ë–Ω | ‚úÖ | ‚úÖ |
| –ê–≤—Ç–æ–º–æ–±–∏–ª—å –≥–æ—Ç–æ–≤ –∫ –≤—ã–¥–∞—á–µ | ‚úÖ | ‚úÖ |
| –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –¢–û | ‚úÖ | ‚úÖ |
| –°—Ä–æ–∫ –≥–∞—Ä–∞–Ω—Ç–∏–∏ –∏—Å—Ç–µ–∫–∞–µ—Ç | ‚Äî | ‚úÖ |
| –ù–æ–≤—ã–π claim –ø–æ –≥–∞—Ä–∞–Ω—Ç–∏–∏ | ‚Äî | ‚úÖ |

**–®–∞–±–ª–æ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** (—É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `POST /notifications/templates`):
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `{{variable_name}}`
- –ü—Ä–∏–º–µ—Ä—ã: `{{customerName}}`, `{{orderNumber}}`, `{{status}}`, `{{date}}`

---

### 4.6 –ì–∞—Ä–∞–Ω—Ç–∏–π–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞

**–ú–æ–¥—É–ª—å**: `WarrantyModule`

**–¢–∏–ø—ã –≥–∞—Ä–∞–Ω—Ç–∏–π**:
- `work` ‚Äî –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 6 –º–µ—Å—è—Ü–µ–≤)
- `spare_part` ‚Äî –Ω–∞ –∑–∞–ø—á–∞—Å—Ç–∏ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è)
- `complex` ‚Äî –Ω–∞ –≤–µ—Å—å –∑–∞–∫–∞–∑ (—Ä–∞–±–æ—Ç—ã + –∑–∞–ø—á–∞—Å—Ç–∏)

**–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª**:
```
active ‚Üí claimed (–ø—Ä–∏ –ø–æ–¥–∞—á–µ claim)
       ‚Üí expired (–ø–æ –¥–∞—Ç–µ)
       ‚Üí voided  (–∞–Ω–Ω—É–ª–∏—Ä–æ–≤–∞–Ω –≤—Ä—É—á–Ω—É—é)
```

**Claim-–ø—Ä–æ—Ü–µ—Å—Å**:
1. –ö–ª–∏–µ–Ω—Ç –ø–æ–¥–∞—ë—Ç claim —á–µ—Ä–µ–∑ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∏–ª–∏ –º–µ–Ω–µ–¥–∂–µ—Ä—É
2. –ú–µ–Ω–µ–¥–∂–µ—Ä —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç ‚Üí `under_review`
3. –ú–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ ‚Üí `approved` / `rejected`
4. –ü—Ä–∏ approved ‚Äî –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ä–∞–±–æ—Ç—ã –ø–æ –≥–∞—Ä–∞–Ω—Ç–∏–∏ ‚Üí `resolved`

---

### 4.7 –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –¥–∞—à–±–æ—Ä–¥

**–ú–æ–¥—É–ª—å**: `AnalyticsModule`

**KPI –¥–∞—à–±–æ—Ä–¥–∞ (—Å –ø–µ—Ä–∏–æ–¥–∞–º–∏: today/week/month/year)**:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ (vs –ø—Ä–µ–¥—ã–¥—É—â–∏–π –ø–µ—Ä–∏–æ–¥, %)
- –í—ã—Ä—É—á–∫–∞ (vs –ø—Ä–µ–¥—ã–¥—É—â–∏–π –ø–µ—Ä–∏–æ–¥, %)
- –ù–æ–≤—ã–µ –∫–ª–∏–µ–Ω—Ç—ã (vs –ø—Ä–µ–¥—ã–¥—É—â–∏–π –ø–µ—Ä–∏–æ–¥, %)
- –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

**–ì—Ä–∞—Ñ–∏–∫–∏**:
- –í—ã—Ä—É—á–∫–∞ –ø–æ –º–µ—Å—è—Ü–∞–º (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 12 –º–µ—Å—è—Ü–µ–≤) ‚Äî –¥–ª—è –ª–∏–Ω–µ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞
- –ó–∞–∫–∞–∑—ã –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º ‚Äî –¥–ª—è –∫—Ä—É–≥–æ–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã
- –ó–∞–ø–∏—Å–∏ –ø–æ –¥–Ω—è–º (—Å–ª–µ–¥—É—é—â–∏–µ 30 –¥–Ω–µ–π) ‚Äî –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è

**–¢–∞–±–ª–∏—Ü—ã**:
- –¢–æ–ø-10 —É—Å–ª—É–≥ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–∫–∞–∑–æ–≤
- –¢–æ–ø-10 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–∫–∞–∑–æ–≤ + —Ä–µ–π—Ç–∏–Ω–≥—É
- –ó–∞–ø—á–∞—Å—Ç–∏ —Å –Ω–∏–∑–∫–∏–º –æ—Å—Ç–∞—Ç–∫–æ–º (–ø–æ—Ä–æ–≥ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)

---

### 4.8 –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏

**–ú–æ–¥—É–ª—å**: `PromotionsModule`

**–¢–∏—Ä—ã (—É—Ä–æ–≤–Ω–∏)**:

| –¢–∏—Ä | –ü–æ—Ä–æ–≥ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö –±–∞–ª–ª–æ–≤ | –ü—Ä–∏–≤–∏–ª–µ–≥–∏–∏ |
|-----|--------------------------|-----------|
| Bronze | 0 ‚Äì 999 | –ë–∞–∑–æ–≤—ã–µ —Å–∫–∏–¥–∫–∏ |
| Silver | 1 000 ‚Äì 4 999 | +5% –∫ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—é –±–∞–ª–ª–æ–≤ |
| Gold | 5 000 ‚Äì 9 999 | +10% –∫ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—é, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å |
| Platinum | 10 000+ | +20% –∫ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—é, –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ |

**–ü—Ä–∞–≤–∏–ª–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è**:
- 1 —Ä—É–±–ª—å = 1 –±–∞–ª–ª (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- –ù–∞—á–∏—Å–ª—è—é—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ç—É—Å–µ `completed`
- –î–≤–æ–π–Ω—ã–µ –±–∞–ª–ª—ã –≤ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è (–±—É–¥—É—â–∞—è –≤–µ—Ä—Å–∏—è)

**–ü—Ä–æ–º–æ–∫–æ–¥—ã**:
- –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ (maxUsageCount = 1) –∏–ª–∏ –º–Ω–æ–≥–æ—Ä–∞–∑–æ–≤—ã–µ
- –ü–æ —Ç–∏–ø—É: –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å–∫–∏–¥–∫–∞ / —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—É–º–º–∞ / –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è —É—Å–ª—É–≥–∞
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ —Å—Ä–æ–∫—É –¥–µ–π—Å—Ç–≤–∏—è (startDate ‚Äì endDate)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Å—É–º–º–µ –∑–∞–∫–∞–∑–∞

---

### 4.9 –ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∞—è —Å–µ—Ç—å

**–ú–æ–¥—É–ª—å**: `PartnersModule`

**–°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**:
1. **–û–±–º–µ–Ω –∑–∞–ø—á–∞—Å—Ç—è–º–∏**: –£ –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å–∞ –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å –Ω—É–∂–Ω–∞—è –¥–µ—Ç–∞–ª—å ‚Üí –∑–∞–ø—Ä–æ—Å –∫ –ø–∞—Ä—Ç–Ω—ë—Ä—É
2. **–†–µ–¥–∏—Ä–µ–∫—Ç –∫–ª–∏–µ–Ω—Ç–∞**: –ö–ª–∏–µ–Ω—Ç –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ —É–∑–∫–æ—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ä–µ–º–æ–Ω—Ç–µ ‚Üí –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫ –ø–∞—Ä—Ç–Ω—ë—Ä—É
3. **–ó–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å**: –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–∫–∞–∑–æ–≤ ‚Üí –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å —á–∞—Å—Ç—å –∫ –ø–∞—Ä—Ç–Ω—ë—Ä—É

**API –¥–ª—è –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤**:
- API –∫–ª—é—á–∏ (SHA-256 —Ö–µ—à, –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è —Å–∞–º –∫–ª—é—á)
- Scopes: read-only / read-write / specific-resource
- –†–æ—Ç–∞—Ü–∏—è –∫–ª—é—á–µ–π: revoke + generate new

---

### 4.10 –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã

**–ú–æ–¥—É–ª—å**: `CorporateModule`

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```
Company (–∫–æ–º–ø–∞–Ω–∏—è)
  ‚îú‚îÄ‚îÄ CompanyContracts (–¥–æ–≥–æ–≤–æ—Ä—ã —Å —É—Å–ª–æ–≤–∏—è–º–∏)
  ‚îÇ   ‚îú‚îÄ‚îÄ discountPercent ‚Äî —Å–∫–∏–¥–∫–∞ –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É
  ‚îÇ   ‚îú‚îÄ‚îÄ creditLimit ‚Äî –∫—Ä–µ–¥–∏—Ç–Ω—ã–π –ª–∏–º–∏—Ç
  ‚îÇ   ‚îî‚îÄ‚îÄ paymentTermDays ‚Äî –æ—Ç—Å—Ä–æ—á–∫–∞ –ø–ª–∞—Ç–µ–∂–∞
  ‚îî‚îÄ‚îÄ CompanyCars (–∞–≤—Ç–æ–ø–∞—Ä–∫, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ –∫ –∫–æ–º–ø–∞–Ω–∏–∏ –∞–≤—Ç–æ)
```

**–ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞**:
- –°–∫–∏–¥–∫–∞ –∏–∑ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫ –∑–∞–∫–∞–∑–∞–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏
- –ö—Ä–µ–¥–∏—Ç–Ω—ã–π –ª–∏–º–∏—Ç ‚Äî –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–µ–≤—ã—à–∞—Ç—å
- –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä—É

---

### 4.11 –ú—É–ª—å—Ç–∏—Ñ–∏–ª–∏–∞–ª—å–Ω–æ—Å—Ç—å

**–ú–æ–¥—É–ª—å**: `BranchModule`

**–°—Ü–µ–Ω–∞—Ä–∏–∏**:
- –°–µ—Ç—å –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –≤ –æ–¥–Ω–æ–º –≥–æ—Ä–æ–¥–µ (3-5 —Ç–æ—á–µ–∫)
- –ö–∞–∂–¥—ã–π —Ñ–∏–ª–∏–∞–ª: —Å–≤–æ–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏, —Å–∫–ª–∞–¥, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- –û–±—â–∏–π –ø—É–ª –∑–∞–ø—á–∞—Å—Ç–µ–π —Å —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–∞–º–∏ –º–µ–∂–¥—É —Å–∫–ª–∞–¥–∞–º–∏
- –ú–µ–Ω–µ–¥–∂–µ—Ä –≤–∏–¥–∏—Ç –≤—Å–µ —Ñ–∏–ª–∏–∞–ª—ã, –º–∞—Å—Ç–µ—Ä ‚Äî —Ç–æ–ª—å–∫–æ —Å–≤–æ–π

**–¢—Ä–∞–Ω—Å—Ñ–µ—Ä—ã –º–µ–∂–¥—É —Å–∫–ª–∞–¥–∞–º–∏**:
```
pending ‚Üí in_transit ‚Üí completed
                     ‚Üí cancelled
```

---

### 4.12 VIN-–¥–µ–∫–æ–¥–µ—Ä

**–ú–æ–¥—É–ª—å**: `VehicleModule`  
**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: NHTSA vPIC API (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, –±–µ–∑ –∫–ª—é—á–∞)  
**Endpoint**: `https://vpic.nhtsa.dot.gov/api/vehicles/DecodeVinValues/{vin}?format=json`

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ**:
- –ú–∞—Ä–∫–∞, –º–æ–¥–µ–ª—å, –≥–æ–¥ –≤—ã–ø—É—Å–∫–∞
- –¢–∏–ø –∫—É–∑–æ–≤–∞, –ø—Ä–∏–≤–æ–¥, —Ç–∏–ø –¥–≤–∏–≥–∞—Ç–µ–ª—è
- –¢–∏–ø —Ç–æ–ø–ª–∏–≤–∞, –ö–ü–ü
- –°—Ç—Ä–∞–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
- –¢–∏–ø –¢–° (–ª–µ–≥–∫–æ–≤–æ–π, –≥—Ä—É–∑–æ–≤–æ–π, –º–æ—Ç–æ—Ü–∏–∫–ª –∏ —Ç.–¥.)

**–í–∞–ª–∏–¥–∞—Ü–∏—è VIN**:
- –†–æ–≤–Ω–æ 17 —Å–∏–º–≤–æ–ª–æ–≤
- –î–æ–ø—É—Å—Ç–∏–º—ã–µ: A-H, J-N, P-Z, 0-9 (–±–µ–∑ I, O, Q)

---

## 5. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 5.1 –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è |
|-----------|-----------|--------|
| Backend | NestJS | 11.x |
| ORM | Drizzle ORM | 0.44+ |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | PostgreSQL | 16+ |
| Frontend | React | 19.x |
| –°—Ç–µ–π—Ç –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç | RTK Query | 2.x |
| CSS | Tailwind CSS | v4 |
| Forms | React Hook Form + Zod | 7.x / 4.x |
| Auth | JWT + Google OAuth 2.0 | ‚Äî |
| Scheduler | @nestjs/schedule | 6.x |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API | Swagger / OpenAPI | 3.x |

### 5.2 –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASS=secret
DB_NAME=autoservice

# JWT
JWT_SECRET=your-secret-key
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=your-refresh-secret
JWT_REFRESH_EXPIRES_IN=7d

# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=http://localhost:3000/auth/google/callback

# SMS.ru (–¥–ª—è SMS —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
SMS_RU_API_ID=

# SMTP (–¥–ª—è Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your@email.com
SMTP_PASS=
SMTP_FROM="–ê–≤—Ç–æ–°–µ—Ä–≤–∏—Å <noreply@example.com>"

# App
NODE_ENV=development
PORT=3000
FRONTEND_URL=http://localhost:5173
```

### 5.3 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ API

| –ü—Ä–µ—Ñ–∏–∫—Å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|---------|-----------|
| `POST /auth/*` | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |
| `GET/PUT/DELETE /api/v1.0/users/*` | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ |
| `GET/POST/PUT/DELETE /api/v1.0/orders/*` | –ó–∞–∫–∞–∑—ã |
| `GET/POST /api/v1.0/employee/*` | –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ |
| `GET/POST /api/v1.0/services/*` | –£—Å–ª—É–≥–∏ |
| `GET/POST /api/v1.0/stores/*` | –°–∫–ª–∞–¥ |
| `GET/POST /api/v1.0/supplier/*` | –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏ |
| `GET /api/v1.0/reports/*` | –û—Ç—á—ë—Ç—ã |
| `GET/POST/PATCH /booking/*` | –û–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å—å |
| `GET/POST /notifications/*` | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è |
| `GET/POST/PATCH /diagnostics/*` | –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ |
| `GET/POST/PATCH /warranty/*` | –ì–∞—Ä–∞–Ω—Ç–∏–∏ |
| `GET/POST/PATCH /partners/*` | –ü–∞—Ä—Ç–Ω—ë—Ä—ã |
| `GET/POST/PATCH /branches/*` | –§–∏–ª–∏–∞–ª—ã |
| `GET/POST/PATCH /corporate/*` | –ö–æ—Ä–ø–∫–ª–∏–µ–Ω—Ç—ã |
| `GET/POST/PATCH /promotions/*` | –ê–∫—Ü–∏–∏/–ª–æ—è–ª—å–Ω–æ—Å—Ç—å |
| `GET /vehicle/vin/*` | VIN-–¥–µ–∫–æ–¥–µ—Ä |
| `GET /analytics/*` | –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ |
| `GET/PUT /tenant/*` | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã |

### 5.4 –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ‚Äî –ø–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π (46 —Ç–∞–±–ª–∏—Ü)

```mermaid
erDiagram
    USERS ||--o{ ORDERS : "—Å–æ–∑–¥–∞—ë—Ç"
    USERS ||--o{ CARS : "–≤–ª–∞–¥–µ–µ—Ç"
    USERS ||--o{ APPOINTMENTS : "–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è"
    USERS ||--o{ REVIEWS : "–ø–∏—à–µ—Ç"
    USERS ||--o{ LOYALTY_PROGRAMS : "–∏–º–µ–µ—Ç"
    USERS ||--o{ NOTIFICATIONS : "–ø–æ–ª—É—á–∞–µ—Ç"
    USERS ||--o{ MAINTENANCE_REMINDERS : "–ø–æ–ª—É—á–∞–µ—Ç"
    CARS ||--o{ ORDERS : "–≤ –∑–∞–∫–∞–∑–µ"
    CARS ||--o{ APPOINTMENTS : "–Ω–∞ –∑–∞–ø–∏—Å–∏"
    CARS ||--o{ DIAGNOSTIC_SESSIONS : "–ø—Ä–æ—Ö–æ–¥–∏—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É"
    EMPLOYEES ||--o{ ORDERS : "–≤–µ–¥—ë—Ç"
    EMPLOYEES ||--o{ APPOINTMENTS : "–Ω–∞–∑–Ω–∞—á–µ–Ω"
    EMPLOYEES ||--o{ TIME_SLOTS : "–∏–º–µ–µ—Ç"
    EMPLOYEES ||--o{ REVIEWS : "–ø–æ–ª—É—á–∞–µ—Ç"
    EMPLOYEES ||--o{ BRANCH_EMPLOYEES : "—Ä–∞–±–æ—Ç–∞–µ—Ç –≤"
    ORDERS ||--o{ PAYMENTS : "–æ–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è"
    ORDERS ||--o{ SERVICES_ORDERS : "–≤–∫–ª—é—á–∞–µ—Ç —É—Å–ª—É–≥–∏"
    ORDERS ||--o{ SPARE_PART_ORDERS : "–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–∞–ø—á–∞—Å—Ç–∏"
    ORDERS ||--o{ WARRANTIES : "–ø–æ–∫—Ä—ã–≤–∞–µ—Ç—Å—è"
    ORDERS ||--o{ ORDER_DISCOUNTS : "—Å–æ —Å–∫–∏–¥–∫–æ–π"
    SERVICES ||--o{ SERVICES_ORDERS : "–∑–∞–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è"
    SERVICES }|--|| SERVICE_CATEGORIES : "–∫–∞—Ç–µ–≥–æ—Ä–∏—è"
    SPARE_PARTS ||--o{ SPARE_PART_ORDERS : "–∑–∞–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è"
    SPARE_PARTS ||--o{ SPARE_PART_STORE : "—Ö—Ä–∞–Ω–∏—Ç—Å—è"
    SPARE_PARTS }|--|| CATEGORIES : "–∫–∞—Ç–µ–≥–æ—Ä–∏—è"
    STORES ||--o{ SPARE_PART_STORE : "—Ö—Ä–∞–Ω–∏—Ç"
    BRANCHES ||--o{ BRANCH_EMPLOYEES : "–∏–º–µ–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤"
    PARTNERS ||--o{ PARTNER_API_KEYS : "–∏–º–µ–µ—Ç –∫–ª—é—á–∏"
    PARTNERS ||--o{ PARTNER_SPARE_PART_REQUESTS : "–∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç"
    COMPANIES ||--o{ COMPANY_CONTRACTS : "–∏–º–µ–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã"
    COMPANIES ||--o{ COMPANY_CARS : "–∏–º–µ–µ—Ç –∞–≤—Ç–æ–ø–∞—Ä–∫"
    DISCOUNTS ||--o{ ORDER_DISCOUNTS : "–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫"
    LOYALTY_PROGRAMS ||--o{ LOYALTY_TRANSACTIONS : "–∏—Å—Ç–æ—Ä–∏—è"
    WARRANTY_CLAIMS }|--|| WARRANTIES : "–ø–æ –≥–∞—Ä–∞–Ω—Ç–∏–∏"
    DIAGNOSTIC_SESSIONS ||--o{ DIAGNOSTIC_RESULTS : "–≤—ã—è–≤–ª—è–µ—Ç"
    DIAGNOSTIC_RESULTS }|--|| DIAGNOSTIC_CODES_CATALOG : "–∫–æ–¥"
    NOTIFICATION_TEMPLATES ||--o{ NOTIFICATIONS : "–ø–æ —à–∞–±–ª–æ–Ω—É"
```

---

## 6. –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 6.1 –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API: < 200ms –¥–ª—è 95% –∑–∞–ø—Ä–æ—Å–æ–≤
- –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ (1000+ –∑–∞–ø–∏—Å–µ–π): < 500ms
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–æ–≤: < 3 —Å–µ–∫
- –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: –¥–æ 100 (single-tenant)

### 6.2 –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ü–∞—Ä–æ–ª–∏: bcrypt (rounds = 12)
- JWT access token: 15 –º–∏–Ω—É—Ç
- JWT refresh token: 7 –¥–Ω–µ–π (—Ä–æ—Ç–∞—Ü–∏—è –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏)
- API –∫–ª—é—á–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤: SHA-256 —Ö–µ—à (—Å—ã—Ä–æ–π –∫–ª—é—á –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è)
- Rate limiting: 100 req/min per IP (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è Nginx)
- HTTPS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–µ

### 6.3 –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ: –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ stateless JWT
- Database connection pool: PG max 20 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ –≤—Å–µ FK –∏ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã

### 6.4 –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- Backup: –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π PostgreSQL dump (pg_dump)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: stderr + —Ñ–∞–π–ª (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è Winston/Pino)
- Health check endpoint: `GET /health`

---

## 7. –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞

### ‚úÖ v1.0 ‚Äî –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (MVP)
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (JWT + Google OAuth)
- CRUD –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤, –∑–∞–∫–∞–∑–æ–≤
- –ö–∞—Ç–∞–ª–æ–≥ —É—Å–ª—É–≥ –∏ –∑–∞–ø—á–∞—Å—Ç–µ–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥–æ–º
- –ë–∞–∑–æ–≤—ã–µ –æ—Ç—á—ë—Ç—ã (5 —Ç–∏–ø–æ–≤)
- –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–∞—Å—Ç–µ—Ä–æ–≤

### ‚úÖ v2.0 ‚Äî –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- –û–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å—å —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Å–ª–æ—Ç–∞–º–∏
- –ò—Å—Ç–æ—Ä–∏—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (DTC)
- –ì–∞—Ä–∞–Ω—Ç–∏–π–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
- –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (SMS + Email)
- VIN-–¥–µ–∫–æ–¥–µ—Ä (NHTSA API)
- –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
- –ü—Ä–æ–º–æ–∫–æ–¥—ã –∏ —Å–∫–∏–¥–∫–∏
- –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –¢–û (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ cron)
- –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –¥–∞—à–±–æ—Ä–¥ —Å KPI

### ‚úÖ v3.0 ‚Äî –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- –ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∞—è —Å–µ—Ç—å (–æ–±–º–µ–Ω –∑–∞–ø—á–∞—Å—Ç—è–º–∏ –∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏)
- –ú—É–ª—å—Ç–∏—Ñ–∏–ª–∏–∞–ª—å–Ω–æ—Å—Ç—å
- –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã

### ‚úÖ v4.0 ‚Äî White-label / Embedded
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä –±—Ä–µ–Ω–¥–∏–Ω–≥–∞ (TenantModule)
- Feature flags (–≤–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π)
- –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π Setup Wizard
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (About, Privacy Policy –∏ —Ç.–¥.)
- Email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å HTML —à–∞–±–ª–æ–Ω–∞–º–∏

### üîÆ v5.0 ‚Äî –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è
- [ ] –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (React Native)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ–Ω–ª–∞–π–Ω-–∫–∞—Å—Å–æ–π (54-–§–ó)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 1–° –ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è
- [ ] QR-–∫–æ–¥—ã –¥–ª—è –∑–∞–∫–∞–∑–æ–≤ –∏ –≥–∞—Ä–∞–Ω—Ç–∏–π–Ω—ã—Ö —Ç–∞–ª–æ–Ω–æ–≤
- [ ] –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –ø–æ—Ä—Ç–∞–ª (–æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞)
- [ ] Telegram-–±–æ—Ç –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] OBD-II Bluetooth –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
- [ ] AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ (–Ω–∞ –æ—Å–Ω–æ–≤–µ DTC + –∏—Å—Ç–æ—Ä–∏—è)
- [ ] –í–∏–¥–µ–æ—Ñ–∏–∫—Å–∞—Ü–∏—è –ø—Ä–∏—ë–º–∫–∏ –∞–≤—Ç–æ
- [ ] –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ–¥–ø–∏—Å—å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- [ ] Multi-tenant SaaS (franchise-–º–æ–¥–µ–ª—å)

---

## 8. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

| –°–µ—Ä–≤–∏—Å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è |
|--------|-----------|--------|-------------|
| **NHTSA vPIC API** | VIN-–¥–µ–∫–æ–¥–µ—Ä | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ, –±–µ–∑ –∫–ª—é—á–∞ |
| **SMS.ru** | SMS-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | `SMS_RU_API_ID` |
| **SMTP (–ª—é–±–æ–π)** | Email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | `SMTP_*` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ |
| **Google OAuth 2.0** | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | `GOOGLE_CLIENT_*` |
| **Stripe** | –û–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç–∞ | üîÆ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è | ‚Äî |
| **Telegram Bot API** | Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | üîÆ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è | ‚Äî |
| **1–°** | –ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è | üîÆ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è | ‚Äî |
| **–û–§–î / –ö–∞—Å—Å–∞** | 54-–§–ó | üîÆ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è | ‚Äî |

---

## 9. Deployment

### Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±)

```yaml
version: '3.8'
services:
  postgres:
    image: postgres:16-alpine
    environment:
      POSTGRES_DB: autoservice
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: ${DB_PASS}
    volumes:
      - postgres_data:/var/lib/postgresql/data
    ports:
      - "5432:5432"

  backend:
    build: ./server
    environment:
      DB_HOST: postgres
      DB_PORT: 5432
      DB_NAME: autoservice
      DB_USER: postgres
      DB_PASS: ${DB_PASS}
      JWT_SECRET: ${JWT_SECRET}
      NODE_ENV: production
    depends_on:
      - postgres
    ports:
      - "3000:3000"

  frontend:
    build: ./frontend
    environment:
      VITE_API_URL: http://backend:3000
    ports:
      - "80:80"

volumes:
  postgres_data:
```

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
cd server && npm install
cd ../frontend && npm install

# 2. –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª—ã (—Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ .env.example)
cp server/.env.example server/.env
cp frontend/.env.example frontend/.env

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL
docker-compose up postgres -d

# 4. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
cd server && npm run db:migrate

# 5. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ä–æ–ª–∏, DTC –∫–æ–¥—ã)
cd server && npm run db:seed

# 6. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
cd server && npm run start:dev
cd frontend && npm run dev

# 7. –û—Ç–∫—Ä—ã—Ç—å Setup Wizard
# http://localhost:5173/setup
```

---

## 10. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (ADR)

### ADR-001: UUID –≤–º–µ—Å—Ç–æ BIGSERIAL –¥–ª—è –ø–µ—Ä–≤–∏—á–Ω—ã—Ö –∫–ª—é—á–µ–π
**–†–µ—à–µ–Ω–∏–µ**: –í—Å–µ PK ‚Äî UUID v4 (defaultRandom)  
**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã—Ö ID –≤ URL, –±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è API, —É–¥–æ–±–Ω–æ –ø—Ä–∏ —Å–ª–∏—è–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–æ–∫

### ADR-002: Drizzle ORM –≤–º–µ—Å—Ç–æ TypeORM/Prisma
**–†–µ—à–µ–Ω–∏–µ**: Drizzle ORM + drizzle-kit  
**–ü—Ä–∏—á–∏–Ω–∞**: –ù–∞—Ç–∏–≤–Ω—ã–π SQL-—Å—Ç–∏–ª—å, –Ω–µ—Ç —Ä–∞–Ω—Ç–∞–π–º–æ–≤–æ–π —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏, –±—ã—Å—Ç—Ä—ã–π, —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π

### ADR-003: Single tenant (embedded) –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
**–†–µ—à–µ–Ω–∏–µ**: –û–¥–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ = –æ–¥–∏–Ω –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å  
**–ü—Ä–∏—á–∏–Ω–∞**: –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –∏ –≤–ª–∞–¥–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏. Multi-tenancy –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –≤ v5.0

### ADR-004: JWT –±–µ–∑ —Å–µ—Å—Å–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
**–†–µ—à–µ–Ω–∏–µ**: Stateless JWT + refresh token rotation –≤ –ë–î  
**–ü—Ä–∏—á–∏–Ω–∞**: –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ Redis

### ADR-005: Feature flags –≤ TenantSettings
**–†–µ—à–µ–Ω–∏–µ**: Boolean –∫–æ–ª–æ–Ω–∫–∏ –≤ TenantSettings, —á–∏—Ç–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `GET /tenant/branding`  
**–ü—Ä–∏—á–∏–Ω–∞**: –ü—Ä–æ—Å—Ç–æ—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π redis/config-server –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
